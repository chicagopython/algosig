<!DOCTYPE html>
<html prefix="            og: http://ogp.me/ns# article: http://ogp.me/ns/article#     " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="The Chicago Python User Group's Algorithms Special Interest Group">
<meta name="viewport" content="width=device-width">
<title>AlgoSig</title>
<link href="assets/css/custom.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#18354c">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">
<link rel="canonical" href="https://chicagopython.github.io/algosig/">
<link rel="icon" href="favicon.ico" sizes="16x16">
<link rel="manifest" href="site.webmanifest">
<link rel="mask-icon" href="safari-pinned-tab.svg" color="#1f91c2">
<meta name="msapplication-TileColor" content="#00aba9">
<meta name="theme-color" content="#cceeff">
<!-- favicons generated using http://realfavicongenerator.net/ --><!--[if lt IE 9]><script src="assets/js/html5shiv-printshiv.min.js"></script><![endif]--><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="prefetch" href="posts/complete-the-max-heap/" type="text/html">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
         
    <header id="header" class="hidden-print"><nav id="menu"><a href="." title="AlgoSig" rel="home">
        <img src="assets/img/chipy-chipmunk.png" alt="AlgoSig" id="logo" aria-hidden>
          AlgoSig
    </a>

    <ul>
<li><a href="categories/">Categories</a></li>
                <li><a href="about/">About</a></li>
    
    
    </ul></nav></header><main id="content"><div class="postindex">
    <article class="h-entry post-text"><img src="assets/img/team-sales-business-meeting_4460x4460.jpg" alt="article thumbnail"><h3 class="p-name entry-title"><a href="posts/complete-the-max-heap/" class="u-url">Complete the Max Heap</a></h3>
    <span class="metadata">
        <time datetime="2019-09-05T00:00:00-05:00">September 5, 2019</time><i class="fas fa-tags"></i>
        
      <ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/cat_algosig-7/" rel="category"> AlgoSIG 7</a></li>
      </ul></span>
    <!--
    <div class="p-summary entry-summary">
    <div><h2>Description</h2>
<p>Given a partial object representation of a <strong>Max Heap</strong> (below), complete the <code>insert</code> and <code>delete</code> methods.</p>
<p><strong>Max Heap</strong> are binary tree data structures implemented as an array. </p>
<ol>
<li>each node is greater than each of its children</li>
<li>the tree is balanced</li>
<li>all leaves are in the leftmost position available</li>
</ol>
<p>The storage of heaps are implemented as arrays. This allows us to take advantage of constant-time access to any element in the heap. Given a parent node's index value, <code>i</code>, the parent's left child index is <code>2i + 1</code>, and its right child index is <code>2i + 2</code>. Conversely, a node's parent is located at index <code>floor((i - 1) / 2)</code>.</p>
<p>To get a better understanding of heaps and how they work, study the images below and experiment with this <a href="https://www.cs.usfca.edu/~galles/JavascriptVisual/Heap.html">Min Heap annimation</a>.</p>
<p><img alt="" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/Max-Heap.svg/1280px-Max-Heap.svg.png"></p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">MaxHeap</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">storage</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bubble_up</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">top</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_sift_down</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">top</span>

    <span class="k">def</span> <span class="nf">_bubble_up</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="c1"># TODO</span>

    <span class="k">def</span> <span class="nf">_sift_down</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="c1"># TODO</span>
</pre>


<h2>Solution</h2>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">MaxHeap</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">storage</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bubble_up</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">top</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># store top heap value so we can return it</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_sift_down</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">top</span>

    <span class="k">def</span> <span class="nf">get_max</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>

    <span class="k">def</span> <span class="nf">get_size</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_bubble_up</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="k">while</span> <span class="n">index</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># compare to parent</span>
            <span class="n">parent_i</span> <span class="o">=</span> <span class="p">(</span><span class="n">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>  <span class="c1"># floor division</span>

            <span class="k">if</span> <span class="n">parent_i</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">break</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="n">parent_i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="n">index</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="n">parent_i</span><span class="p">]</span> <span class="o">=</span> \
                    <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="n">parent_i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>  <span class="c1"># swap</span>

                <span class="n">index</span> <span class="o">=</span> <span class="n">parent_i</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">break</span>

    <span class="k">def</span> <span class="nf">_sift_down</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">end_i</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="n">l_i</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>

        <span class="k">while</span> <span class="n">l_i</span> <span class="o">&lt;=</span> <span class="n">end_i</span><span class="p">:</span>
            <span class="n">r_i</span> <span class="o">=</span> <span class="n">l_i</span> <span class="o">+</span> <span class="mi">1</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">r_i</span> <span class="o">&lt;=</span> <span class="n">end_i</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="n">l_i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="n">r_i</span><span class="p">]):</span>
                <span class="n">swap_i</span> <span class="o">=</span> <span class="n">r_i</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">swap_i</span> <span class="o">=</span> <span class="n">l_i</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="n">swap_i</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="n">swap_i</span><span class="p">]</span> <span class="o">=</span> \
                    <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="n">swap_i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">storage</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>  <span class="c1"># swap</span>

                <span class="n">index</span> <span class="o">=</span> <span class="n">swap_i</span>
                <span class="n">l_i</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">break</span>
</pre></div>    <hr/>
    </div>-->
    </article><article class="h-entry post-text"><img src="assets/img/team-sales-business-meeting_4460x4460.jpg" alt="article thumbnail"><h3 class="p-name entry-title"><a href="posts/merge-sort/" class="u-url">Merge Sort</a></h3>
    <span class="metadata">
        <time datetime="2019-08-01T00:00:00-05:00">August 1, 2019</time><i class="fas fa-tags"></i>
        
      <ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/cat_algosig-6/" rel="category"> AlgoSIG 6</a></li>
      </ul></span>
    <!--
    <div class="p-summary entry-summary">
    <div><h2>Description</h2>
<p>Implement merge sort, an efficient "divide and conquer" approach to sorting. 
1. split the array in half
1. merge-sort each half
1. combine each sorted half</p>
<p>Sample input:</p>
<pre class="code literal-block"><span></span><span class="n">merge_sort</span><span class="p">([</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,])</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
</pre>


<h2>Solution</h2>
<pre class="code literal-block"><span></span><span class="k">def</span> <span class="nf">merge</span><span class="p">(</span><span class="n">arr_a</span><span class="p">,</span> <span class="n">arr_b</span><span class="p">):</span>  <span class="c1"># helper function</span>
    <span class="n">merged_arr</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr_a</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr_b</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">arr_a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">arr_b</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">merged_arr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arr_a</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span> <span class="c1"># O(k) </span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">merged_arr</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arr_b</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">merged_arr</span> <span class="o">+</span> <span class="n">arr_a</span> <span class="o">+</span> <span class="n">arr_b</span>


<span class="k">def</span> <span class="nf">merge_sort</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>  <span class="c1"># O(n * log(n))</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">arr</span>

    <span class="n">mid_i</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">merge_sort</span><span class="p">(</span><span class="n">arr</span><span class="p">[:</span><span class="n">mid_i</span><span class="p">]),</span> <span class="n">merge_sort</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">mid_i</span><span class="p">:])</span>

    <span class="k">return</span> <span class="n">merge</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
</pre></div>    <hr/>
    </div>-->
    </article><article class="h-entry post-text"><img src="assets/img/team-sales-business-meeting_4460x4460.jpg" alt="article thumbnail"><h3 class="p-name entry-title"><a href="posts/equidistant-points-on-a-line/" class="u-url">Equidistant Points on a Line</a></h3>
    <span class="metadata">
        <time datetime="2019-06-27T00:00:00-05:00">June 27, 2019</time><i class="fas fa-tags"></i>
        
      <ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/cat_algosig-5/" rel="category"> AlgoSIG 5</a></li>
      </ul></span>
    <!--
    <div class="p-summary entry-summary">
    <div><h2>Challenge</h2>
<p>Given a polyline defined by an ordered list of 2D coordinates, return a list of n equidistant coordinates on that polyline.</p>
<p>Sample input:</p>
<pre class="code literal-block"><span></span><span class="n">coords</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span>  <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">),</span> <span class="p">(</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">4</span><span class="p">),</span> 
    <span class="p">(</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">),</span> <span class="p">(</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">1</span><span class="p">),</span> <span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> 
    <span class="p">(</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">),</span>
    <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span>  <span class="mi">1</span><span class="p">)</span>
<span class="p">]</span>
</pre>


<p><img class="img-fluid" src="/assets/img/star.png"></p>
<h2>Solution</h2>
<pre class="code literal-block"><span></span><span class="kn">import</span> <span class="nn">math</span>


<span class="k">def</span> <span class="nf">point_dist</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">):</span>
    <span class="sd">"""Distance between two points"""</span>
    <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">p2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">p1</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="n">p2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">p1</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">p3_along_p1_p2</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">,</span> <span class="n">dist</span><span class="p">):</span>
    <span class="sd">"""Returns (x, y) point at a given distance from p1 and along the </span>
<span class="sd">    line created by p1 and p2</span>
<span class="sd">    """</span>
    <span class="n">dist_btw</span> <span class="o">=</span> <span class="n">point_dist</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span>
    <span class="n">dist_ratio</span> <span class="o">=</span> <span class="n">dist</span> <span class="o">/</span> <span class="n">dist_btw</span>

    <span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">dist_ratio</span><span class="p">)</span> <span class="o">*</span> <span class="n">p1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">dist_ratio</span> <span class="o">*</span> <span class="n">p2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">dist_ratio</span><span class="p">)</span> <span class="o">*</span> <span class="n">p1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">dist_ratio</span> <span class="o">*</span> <span class="n">p2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>


<span class="k">def</span> <span class="nf">point_seq_length</span><span class="p">(</span><span class="n">coords</span><span class="p">):</span>
    <span class="sd">"""Compute distance of sequential (x, y) list along a route"""</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">([</span><span class="n">point_dist</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">)</span> <span class="k">for</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="n">coords</span><span class="p">[</span><span class="mi">1</span><span class="p">:])])</span>


<span class="k">def</span> <span class="nf">equidist_pts_on_line</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="n">n_pts</span><span class="p">):</span>
    <span class="sd">"""Equidistant points along route</span>

<span class="sd">    coords: sequential (x, y) list along a route</span>
<span class="sd">    returns: (eq_coords, segment_len)</span>
<span class="sd">    """</span>
    <span class="n">route_len</span> <span class="o">=</span> <span class="n">point_seq_length</span><span class="p">(</span><span class="n">coords</span><span class="p">)</span>

    <span class="n">segment_len</span> <span class="o">=</span> <span class="n">route_len</span> <span class="o">/</span> <span class="p">(</span><span class="n">n_pts</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">segment_len_remain</span> <span class="o">=</span> <span class="n">segment_len</span>

    <span class="n">curr_p</span> <span class="o">=</span> <span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">eq_coords</span> <span class="o">=</span> <span class="p">[</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="p">]</span>  <span class="c1"># add the same first coordinate</span>
    <span class="n">next_coord_idx</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">next_p</span> <span class="o">=</span> <span class="n">coords</span><span class="p">[</span><span class="n">next_coord_idx</span><span class="p">]</span>
        <span class="n">dist_to_next</span> <span class="o">=</span> <span class="n">point_dist</span><span class="p">(</span><span class="n">curr_p</span><span class="p">,</span> <span class="n">next_p</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">segment_len_remain</span> <span class="o">&gt;</span> <span class="n">dist_to_next</span><span class="p">:</span>
            <span class="n">segment_len_remain</span> <span class="o">-=</span> <span class="n">dist_to_next</span>
            <span class="n">curr_p</span> <span class="o">=</span> <span class="n">next_p</span>
            <span class="n">next_coord_idx</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="k">else</span><span class="p">:</span>  <span class="c1"># segment_len_remain &lt;= dist_to_next</span>
            <span class="c1"># place an eq_coord segment_len_remain distance from curr_p</span>
            <span class="c1">#  on the line created by curr_p and next_p</span>
            <span class="n">eq_coord</span> <span class="o">=</span> <span class="n">p3_along_p1_p2</span><span class="p">(</span><span class="n">curr_p</span><span class="p">,</span> <span class="n">next_p</span><span class="p">,</span> <span class="n">segment_len_remain</span><span class="p">)</span>
            <span class="n">eq_coords</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">eq_coord</span><span class="p">)</span>
            <span class="n">curr_p</span> <span class="o">=</span> <span class="n">eq_coord</span>  <span class="c1"># update curr_p to our new point</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">eq_coords</span><span class="p">)</span> <span class="o">==</span> <span class="n">n_pts</span><span class="p">:</span>  <span class="c1"># solve condition</span>
                <span class="k">break</span>

            <span class="c1"># do not update next_coord_idx</span>

            <span class="c1"># recompute these to reduce accumulated error</span>
            <span class="n">route_len</span> <span class="o">=</span> <span class="n">point_seq_length</span><span class="p">([</span><span class="n">curr_p</span><span class="p">]</span> <span class="o">+</span> <span class="n">coords</span><span class="p">[</span><span class="n">next_coord_idx</span><span class="p">:])</span>
            <span class="n">segment_len</span> <span class="o">=</span> <span class="n">route_len</span> <span class="o">/</span> <span class="p">(</span><span class="n">n_pts</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">eq_coords</span><span class="p">))</span>
            <span class="n">segment_len_remain</span> <span class="o">=</span> <span class="n">segment_len</span>

    <span class="k">return</span> <span class="n">eq_coords</span>
</pre>


<p>Plot our solution with:</p>
<pre class="code literal-block"><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="kn">as</span> <span class="nn">plt</span>

<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">'seaborn-whitegrid'</span><span class="p">)</span>

<span class="n">coords</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span>  <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">),</span> <span class="p">(</span> <span class="mi">0</span><span class="p">,</span>  <span class="mi">4</span><span class="p">),</span> 
    <span class="p">(</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">1</span><span class="p">),</span> <span class="p">(</span> <span class="mi">4</span><span class="p">,</span>  <span class="mi">1</span><span class="p">),</span> <span class="p">(</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> 
    <span class="p">(</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">),</span> <span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">),</span>
    <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span>  <span class="mi">1</span><span class="p">)</span>
<span class="p">]</span>

<span class="n">eq_coords</span> <span class="o">=</span> <span class="n">equidist_pts_on_line</span><span class="p">(</span><span class="n">coords</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">coords</span><span class="p">],</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">coords</span><span class="p">],</span> <span class="s1">'o-'</span><span class="p">,</span> 
        <span class="n">label</span><span class="o">=</span><span class="s1">'input'</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eq_coords</span><span class="p">],</span> <span class="p">[</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">eq_coords</span><span class="p">],</span> <span class="s1">'o'</span><span class="p">,</span> 
        <span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">'output'</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_aspect</span><span class="p">(</span><span class="s1">'equal'</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">'Basic.png'</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">'white'</span><span class="p">);</span>
</pre></div>    <hr/>
    </div>-->
    </article><article class="h-entry post-text"><img src="assets/img/team-sales-business-meeting_4460x4460.jpg" alt="article thumbnail"><h3 class="p-name entry-title"><a href="posts/sudoku/" class="u-url">Sudoku</a></h3>
    <span class="metadata">
        <time datetime="2019-06-06T00:00:00-05:00">June 6, 2019</time><i class="fas fa-tags"></i>
        
      <ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/cat_algosig-4/" rel="category"> AlgoSIG 4</a></li>
      </ul></span>
    <!--
    <div class="p-summary entry-summary">
    <div><h2>Challenge</h2>
<blockquote>
<p>Write a program to solve any Sudoku puzzle by filling the empty cells.
In a sudoku solution, each digit 1-9 must occur exactly once in each row, each column, and in each of the 9 3x3 sub-boxes of the grid.</p>
</blockquote>
<p>Sample input:</p>
<pre class="code literal-block"><span></span><span class="n">board</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span><span class="s1">'5'</span><span class="p">,</span> <span class="s1">'3'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'7'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">],</span> 
    <span class="p">[</span><span class="s1">'6'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'1'</span><span class="p">,</span> <span class="s1">'9'</span><span class="p">,</span> <span class="s1">'5'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">],</span> 
    <span class="p">[</span><span class="s1">'.'</span><span class="p">,</span> <span class="s1">'9'</span><span class="p">,</span> <span class="s1">'8'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'6'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">],</span> 
    <span class="p">[</span><span class="s1">'8'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'6'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'3'</span><span class="p">],</span> 
    <span class="p">[</span><span class="s1">'4'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'8'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'3'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'1'</span><span class="p">],</span> 
    <span class="p">[</span><span class="s1">'7'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'2'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'6'</span><span class="p">],</span> 
    <span class="p">[</span><span class="s1">'.'</span><span class="p">,</span> <span class="s1">'6'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'2'</span><span class="p">,</span> <span class="s1">'8'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">],</span> 
    <span class="p">[</span><span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'4'</span><span class="p">,</span> <span class="s1">'1'</span><span class="p">,</span> <span class="s1">'9'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'5'</span><span class="p">],</span> 
    <span class="p">[</span><span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'8'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'.'</span><span class="p">,</span> <span class="s1">'7'</span><span class="p">,</span> <span class="s1">'9'</span><span class="p">]</span>
<span class="p">]</span>
</pre>


<h2>Solution</h2>
<pre class="code literal-block"><span></span><span class="c1"># check out https://en.wikipedia.org/wiki/Sudoku_solving_algorithms</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>


<span class="k">def</span> <span class="nf">solve_sudoku</span><span class="p">(</span><span class="n">board</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]:</span>
    <span class="c1"># create a set of all values that may be placed</span>
    <span class="n">val_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)])</span>

    <span class="c1"># create a dict of slot locations to fill</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span> 
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">r_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">c_i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">board</span><span class="p">[</span><span class="n">r_i</span><span class="p">][</span><span class="n">c_i</span><span class="p">]</span> <span class="o">==</span> <span class="s1">'.'</span><span class="p">:</span>
                <span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">r_i</span><span class="p">,</span> <span class="n">c_i</span><span class="p">)</span>
                <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="c1"># Iterate over slots, inserting numbers that are valid.</span>
    <span class="c1"># If no valid number possible, backtrack to previous slot</span>
    <span class="c1">#   and increment by 1</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="c1"># look up the current row/column slot location from the dict</span>
        <span class="n">r_i</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">c_i</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

        <span class="c1"># get set of numbers already used in row/col/box constraints</span>
        <span class="n">row_vals</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="n">r_i</span><span class="p">])</span>
        <span class="n">col_vals</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">c_i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
        <span class="n">b_r_i</span> <span class="o">=</span> <span class="n">r_i</span> <span class="o">//</span> <span class="mi">3</span> <span class="o">*</span> <span class="mi">3</span>
        <span class="n">b_c_i</span> <span class="o">=</span> <span class="n">c_i</span> <span class="o">//</span> <span class="mi">3</span> <span class="o">*</span> <span class="mi">3</span>
        <span class="n">box_vals</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
            <span class="n">board</span><span class="p">[</span><span class="n">b_r_i</span>    <span class="p">][</span><span class="n">b_c_i</span><span class="p">:</span><span class="n">b_c_i</span> <span class="o">+</span> <span class="mi">3</span><span class="p">]</span> <span class="o">+</span> 
            <span class="n">board</span><span class="p">[</span><span class="n">b_r_i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">b_c_i</span><span class="p">:</span><span class="n">b_c_i</span> <span class="o">+</span> <span class="mi">3</span><span class="p">]</span> <span class="o">+</span> 
            <span class="n">board</span><span class="p">[</span><span class="n">b_r_i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">][</span><span class="n">b_c_i</span><span class="p">:</span><span class="n">b_c_i</span> <span class="o">+</span> <span class="mi">3</span><span class="p">]</span>
        <span class="p">)</span>

        <span class="c1"># subtract already-used numbers from the set of all values</span>
        <span class="n">candidates</span> <span class="o">=</span> <span class="n">val_set</span> <span class="o">-</span> <span class="n">row_vals</span> <span class="o">-</span> <span class="n">col_vals</span> <span class="o">-</span> <span class="n">box_vals</span>
        <span class="c1"># filter candidates to those greater than current placement</span>
        <span class="n">cur_val</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="n">r_i</span><span class="p">][</span><span class="n">c_i</span><span class="p">]</span>
        <span class="n">candidates</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">candidates</span> <span class="k">if</span> <span class="n">c</span> <span class="o">&gt;</span> <span class="n">cur_val</span><span class="p">)</span>

        <span class="c1"># backtrack if no valid candidates exist</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">candidates</span><span class="p">:</span>  
            <span class="n">board</span><span class="p">[</span><span class="n">r_i</span><span class="p">][</span><span class="n">c_i</span><span class="p">]</span> <span class="o">=</span> <span class="s1">'.'</span>
            <span class="n">i</span> <span class="o">-=</span> <span class="mi">1</span>
            <span class="k">continue</span>
        <span class="c1"># otherwise place the next greater candidate in the slot</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">board</span><span class="p">[</span><span class="n">r_i</span><span class="p">][</span><span class="n">c_i</span><span class="p">]</span> <span class="o">=</span> <span class="n">candidates</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="c1"># board is solved if last empty slot is filled</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">board</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>    <hr/>
    </div>-->
    </article><article class="h-entry post-text"><img src="assets/img/team-sales-business-meeting_4460x4460.jpg" alt="article thumbnail"><h3 class="p-name entry-title"><a href="posts/bitwise-and-3-tuples/" class="u-url">Bitwise and 3-tuples</a></h3>
    <span class="metadata">
        <time datetime="2019-05-02T00:00:00-05:00">May 2, 2019</time><i class="fas fa-tags"></i>
        
      <ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/cat_algosig-3/" rel="category"> AlgoSIG 3</a></li>
      </ul></span>
    <!--
    <div class="p-summary entry-summary">
    <div><h2>Description</h2>
<p>Given an array of numbers, <code>A</code>, find the number of 3-tuples <code>(i, j, k)</code> indices in <code>A</code>, where the bitwise AND is equal to <code>0</code>. Assume the numbers in <code>A</code> are between 0 and 2^16.</p>
<pre class="code literal-block"><span></span><span class="mi">0</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">A</span><span class="p">.</span><span class="n">length</span><span class="w"></span>
<span class="mi">0</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">A</span><span class="p">.</span><span class="n">length</span><span class="w"></span>
<span class="mi">0</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">k</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">A</span><span class="p">.</span><span class="n">length</span><span class="w"></span>
<span class="n">A</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">A</span><span class="o">[</span><span class="n">j</span><span class="o">]</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">A</span><span class="o">[</span><span class="n">k</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">represents</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">bitwise</span><span class="o">-</span><span class="ow">AND</span><span class="w"> </span><span class="n">operator</span><span class="p">.</span><span class="w"></span>
</pre>


<p>Example:</p>
<pre class="code literal-block"><span></span><span class="n">Input</span><span class="o">:</span> <span class="n">arr</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span>
<span class="n">Output</span><span class="o">:</span> <span class="mi">12</span>
</pre>


<h2>Solution</h2>
<pre class="code literal-block"><span></span><span class="kn">import</span> <span class="nn">collections</span>


<span class="k">def</span> <span class="nf">countTriplets</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
   <span class="sd">"""</span>
<span class="sd">   :type A: List[int]</span>
<span class="sd">   :rtype: int</span>
<span class="sd">   """</span>
   <span class="n">cnt</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
   <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">A</span><span class="p">:</span>
       <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">A</span><span class="p">:</span>
           <span class="n">cnt</span><span class="p">[</span><span class="n">x</span> <span class="o">&amp;</span> <span class="n">y</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
   <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span>
   <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">A</span><span class="p">:</span>
       <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">cnt</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
           <span class="k">if</span> <span class="n">num</span> <span class="o">&amp;</span> <span class="n">key</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
               <span class="n">res</span> <span class="o">+=</span> <span class="n">cnt</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
   <span class="k">return</span> <span class="n">res</span>
</pre></div>    <hr/>
    </div>-->
    </article><article class="h-entry post-text"><img src="assets/img/team-sales-business-meeting_4460x4460.jpg" alt="article thumbnail"><h3 class="p-name entry-title"><a href="posts/implement-a-prefix-tree-trie/" class="u-url">Implement a Prefix Tree (Trie)</a></h3>
    <span class="metadata">
        <time datetime="2019-04-04T00:00:00-05:00">April 4, 2019</time><i class="fas fa-tags"></i>
        
      <ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/cat_algosig-2/" rel="category"> AlgoSIG 2</a></li>
            <li><a class="tag p-category" href="categories/autocomplete/" rel="tag">autocomplete</a></li>
            <li><a class="tag p-category" href="categories/tree/" rel="tag">tree</a></li>
            <li><a class="tag p-category" href="categories/trie/" rel="tag">trie</a></li>
      </ul></span>
    <!--
    <div class="p-summary entry-summary">
    <div><p><img src="/assets/img/trie.png"></p>
<h2>Description</h2>
<p>The problem can be found <a href="https://leetcode.com/problems/implement-trie-prefix-tree/">here</a></p>
<p>Implement a trie (prefix tree) with <code>insert</code>, <code>search</code>, and <code>startsWith</code> methods. Tries are used in many applications such as spell checking, autocompletion, and ip routing.</p>
<p><em>Part 2</em> of this problem (not shown on LeetCode) is to implement an <code>autoComplete</code> method.</p>
<h2>Solution 1: Using Node Class and Storing Entire Word at Leaf</h2>
<p>This solution uses a <code>Node</code> class which makes things easier to keep track of. Storing the entire word in the end of word seperator makes the implementation less tricky. However this unfortunetly causes the space complexity to be <code>O(n)</code> where <code>n</code> is the number of words.</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">letter</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">letter</span> <span class="o">=</span> <span class="n">letter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="bp">False</span>

<span class="k">class</span> <span class="nc">Trie</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s1">'root'</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span>
        <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">letter</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="n">letter</span><span class="p">)</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>
        <span class="n">node</span><span class="o">.</span><span class="n">end</span> <span class="o">=</span> <span class="n">word</span>

    <span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span>
        <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">end</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">startsWith</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span>
        <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">prefix</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">autocomplete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span>
        <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
                <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>
        <span class="n">words</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">autocomplete_helper</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">words</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">words</span>


<span class="k">def</span> <span class="nf">autocomplete_helper</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">words</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">end</span><span class="p">:</span>
        <span class="n">words</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">end</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">node</span><span class="o">.</span><span class="n">children</span><span class="p">:</span>
        <span class="n">autocomplete_helper</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">words</span><span class="p">)</span>
</pre>


<h2>Solution 2: Using Just Dictionary and End of Word Marker $</h2>
<p>Since this only stores the letters, and not the entire word, the space complexity is much less.</p>
<pre class="code literal-block"><span></span><span class="k">class</span> <span class="nc">Trie</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">root</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span>
        <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">letter</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
                <span class="n">node</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>
        <span class="n">node</span><span class="p">[</span><span class="s1">'$'</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span> <span class="c1"># End of word</span>

    <span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">word</span><span class="p">):</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span>
        <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">word</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
                <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">if</span> <span class="s1">'$'</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">startsWith</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span>
        <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">prefix</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
                <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="bp">True</span>

    <span class="k">def</span> <span class="nf">autoComplete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">root</span>
        <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">prefix</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
                <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">[]</span>
        <span class="n">words</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">autocomplete_helper</span><span class="p">(</span><span class="n">prefix</span><span class="p">,</span> <span class="n">words</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">words</span>


<span class="k">def</span> <span class="nf">autocomplete_helper</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">words</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
    <span class="k">if</span> <span class="s1">'$'</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
        <span class="n">words</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">node</span><span class="p">:</span>
        <span class="n">print_tree</span><span class="p">(</span><span class="n">parent</span> <span class="o">+</span> <span class="n">letter</span><span class="p">,</span> <span class="n">words</span><span class="p">,</span> <span class="n">node</span><span class="p">[</span><span class="n">letter</span><span class="p">])</span>
</pre>


<h2>Test Code and Benchmarking</h2>
<pre class="code literal-block"><span></span><span class="n">trie</span> <span class="o">=</span> <span class="n">Trie</span><span class="p">()</span>
<span class="n">trie</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">'cat'</span><span class="p">)</span>
<span class="n">trie</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">'can'</span><span class="p">)</span>
<span class="n">trie</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">'and'</span><span class="p">)</span>
<span class="n">trie</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">'ant'</span><span class="p">)</span>
<span class="n">trie</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="s1">'antenna'</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">trie</span><span class="o">.</span><span class="n">autocomplete</span><span class="p">(</span><span class="s1">'an'</span><span class="p">))</span>
</pre>


<p>Using a list of 8000 most frequently searched words, here are some benchmarks.</p>
<pre class="code literal-block"><span></span><span class="mi">77848</span> <span class="n">Bytes</span> <span class="k">using</span> <span class="n">python</span> <span class="n">list</span>
<span class="mi">1184</span>  <span class="n">Bytes</span> <span class="k">using</span> <span class="n">above</span> <span class="n">trie</span>

<span class="k">Input</span><span class="p">:</span> <span class="n">p</span>
<span class="n">Trie</span><span class="p">:</span>  <span class="mi">4</span><span class="p">.</span><span class="mi">71</span> <span class="n">ms</span>
<span class="n">List</span><span class="p">:</span>  <span class="mi">4</span><span class="p">.</span><span class="mi">28</span> <span class="n">ms</span>

<span class="k">Input</span><span class="p">:</span> <span class="n">cat</span>
<span class="n">Trie</span><span class="p">:</span> <span class="mi">0</span><span class="p">.</span><span class="mi">25</span> <span class="n">ms</span>
<span class="n">List</span><span class="p">:</span> <span class="mi">5</span><span class="p">.</span><span class="mi">19</span> <span class="n">ms</span>

<span class="k">Input</span><span class="p">:</span> <span class="n">python</span>
<span class="n">Trie</span><span class="p">:</span>  <span class="mi">0</span><span class="p">.</span><span class="mi">05</span> <span class="n">ms</span>
<span class="n">List</span><span class="p">:</span>  <span class="mi">7</span><span class="p">.</span><span class="mi">81</span> <span class="n">ms</span>
</pre></div>    <hr/>
    </div>-->
    </article><article class="h-entry post-text"><img src="assets/img/team-sales-business-meeting_4460x4460.jpg" alt="article thumbnail"><h3 class="p-name entry-title"><a href="posts/time-planner/" class="u-url">Time Planner</a></h3>
    <span class="metadata">
        <time datetime="2019-04-04T00:00:00-05:00">April 4, 2019</time><i class="fas fa-tags"></i>
        
      <ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/cat_algosig-2/" rel="category"> AlgoSIG 2</a></li>
            <li><a class="tag p-category" href="categories/array/" rel="tag">array</a></li>
            <li><a class="tag p-category" href="categories/python-101/" rel="tag">python-101</a></li>
      </ul></span>
    <!--
    <div class="p-summary entry-summary">
    <div><h2>Description</h2>
<p>Implement a time planner that receives the availability of two people, a and b, and a duration, dur. Return the earliest time slot in which both people can meet. If no satisfactory time exists, return None.</p>
<p>You may assume availabilities are sorted.</p>
<p>Example:</p>
<pre class="code literal-block"><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">120</span><span class="p">),</span> <span class="p">(</span><span class="mi">140</span><span class="p">,</span> <span class="mi">210</span><span class="p">)]</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">70</span><span class="p">)]</span>
<span class="n">dur</span> <span class="o">=</span> <span class="mi">8</span>

<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">68</span><span class="p">)</span>
</pre>


<h2>Solution 1: <code>O(n^2)</code></h2>
<pre class="code literal-block"><span></span><span class="k">def</span> <span class="nf">time_planner</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">dur</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">avail_a</span> <span class="ow">in</span> <span class="n">a</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">avail_b</span> <span class="ow">in</span> <span class="n">b</span><span class="p">:</span>
      <span class="n">overlap</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="o">*</span><span class="n">avail_a</span><span class="p">))</span> <span class="o">&amp;</span> <span class="nb">set</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="o">*</span><span class="n">avail_b</span><span class="p">))</span>

      <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">overlap</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">dur</span><span class="p">:</span>
        <span class="n">overlap</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">overlap</span><span class="p">))</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">overlap</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">overlap</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">dur</span><span class="p">)</span>

  <span class="k">return</span> <span class="bp">None</span>
</pre>


<h2>Solution 2: <code>O(n)</code></h2>
<pre class="code literal-block"><span></span><span class="k">def</span> <span class="nf">time_planner</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">dur</span><span class="p">):</span>
  <span class="n">i_a</span><span class="p">,</span> <span class="n">i_b</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>

  <span class="k">while</span> <span class="n">i_a</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="ow">and</span> <span class="n">i_b</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">):</span>
    <span class="n">start</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i_a</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">b</span><span class="p">[</span><span class="n">i_b</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">end</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i_a</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">b</span><span class="p">[</span><span class="n">i_b</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>

    <span class="k">if</span> <span class="n">start</span> <span class="o">+</span> <span class="n">dur</span> <span class="o">&lt;=</span> <span class="n">end</span><span class="p">:</span>
      <span class="k">return</span> <span class="n">start</span><span class="p">,</span> <span class="n">start</span> <span class="o">+</span> <span class="n">dur</span>

    <span class="k">if</span> <span class="n">a</span><span class="p">[</span><span class="n">i_a</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">[</span><span class="n">i_b</span><span class="p">][</span><span class="mi">1</span><span class="p">]:</span>
      <span class="n">i_a</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">i_b</span> <span class="o">+=</span> <span class="mi">1</span>

  <span class="k">return</span> <span class="bp">None</span>
</pre></div>    <hr/>
    </div>-->
    </article><article class="h-entry post-text"><img src="assets/img/team-sales-business-meeting_4460x4460.jpg" alt="article thumbnail"><h3 class="p-name entry-title"><a href="posts/first-bad-version/" class="u-url">First Bad Version</a></h3>
    <span class="metadata">
        <time datetime="2019-03-07T00:00:00-05:00">March 7, 2019</time><i class="fas fa-tags"></i>
        
      <ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="categories/cat_algosig-1/" rel="category"> AlgoSIG 1</a></li>
            <li><a class="tag p-category" href="categories/array/" rel="tag">array</a></li>
            <li><a class="tag p-category" href="categories/binary-search/" rel="tag">binary-search</a></li>
      </ul></span>
    <!--
    <div class="p-summary entry-summary">
    <div><h2>1. Problem Link</h2>
<p>The problem can be found <a href="https://leetcode.com/problems/first-bad-version/">here</a></p>
<h2>2. Problem Description</h2>
<p>You have <em>n</em> versions <em>1,2,3,...,n</em> and you want to find the first one that broke the code.</p>
<p>You are given a function <code>isBadVersion(version)</code> which will return <code>True</code> if the version is greater or equal to first broken version. Otherwise it return <code>False</code>.</p>
<p><strong>Part 2</strong> of this problem (not shown on LeetCode) is to solve without knowing in advance how many versions <em>n</em> you have to check. </p>
<h2>3. Problem Solution</h2>
<p>This solution is for <strong>Part 2</strong>, solved without knowing the total number of versions <em>n</em>. Instead of finding the midpoint between the current value and the last, the index of the current is multiplied by 2.</p>
<p>Other solutions can be found on the LeetCode link above.</p>
<pre class="code literal-block"><span></span><span class="k">def</span> <span class="nf">helper</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
    <span class="n">mid</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">right</span><span class="o">+</span><span class="n">left</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">right</span> <span class="o">&lt;=</span> <span class="n">left</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">left</span>
    <span class="k">if</span> <span class="n">isBadVersion</span><span class="p">(</span><span class="n">mid</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">helper</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">mid</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">helper</span><span class="p">(</span><span class="n">mid</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">right</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">firstBadVersion</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">helper</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</pre></div>    <hr/>
    </div>-->
    </article>
</div>


        
       <script>var disqus_shortname="chicagopython-github-io";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script></main><footer id="footer"><p class="light-sans">© Chicago Python User Group · Subscribe via <a href="rss.xml">RSS</a> · Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a> · 
<a rel="license" href="https://www.gnu.org/licenses/gpl-3.0.en.html">
<img alt="Gnu Public License version 3.0" style="border-width:0;" src="https://www.gnu.org/graphics/gplv3-with-text-84x42.png"></a></p>
            
        </footer>
</body>
</html>
